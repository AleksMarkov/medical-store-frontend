"use strict";(self.webpackChunkmedical_store_frontend=self.webpackChunkmedical_store_frontend||[]).push([[829],{6405:(e,r,t)=>{t.d(r,{A:()=>o});t(5043);const o=t.p+"static/media/logo.569b824f5e9a5836d5b1e19b6017b4cf.svg"},4505:(e,r,t)=>{t.d(r,{A:()=>n});var o=t(6213);const s="https://medical-store-backend-tvo6.onrender.com/api  // \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043c\u0430\u0440\u0448\u0440\u0443\u0442",a=o.A.create({baseURL:s,withCredentials:!0});a.interceptors.request.use((e=>{const r=localStorage.getItem("accessToken");return r&&(e.headers.Authorization=`Bearer ${r}`),e}),(e=>Promise.reject(e))),a.interceptors.response.use((e=>e),(async e=>{const r=e.config;if(401===e.response.status&&!r._retry){r._retry=!0;try{const e=localStorage.getItem("refreshToken"),t=await o.A.post(`${s}/user/refresh-token`,{refreshToken:e},{withCredentials:!0}),{accessToken:n,newRefreshToken:c}=t.data;return localStorage.setItem("accessToken",n),localStorage.setItem("refreshToken",c),a.defaults.headers.common.Authorization=`Bearer ${n}`,a(r)}catch(t){return localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),window.location.href="/login",Promise.reject(t)}}return Promise.reject(e)}));const n=a}}]);
//# sourceMappingURL=829.dd87f395.chunk.js.map