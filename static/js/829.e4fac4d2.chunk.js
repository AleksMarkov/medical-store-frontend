"use strict";(self.webpackChunkmedical_store_frontend=self.webpackChunkmedical_store_frontend||[]).push([[829],{6405:(e,t,r)=>{r.d(t,{A:()=>o});r(5043);const o=r.p+"static/media/logo.569b824f5e9a5836d5b1e19b6017b4cf.svg"},4505:(e,t,r)=>{r.d(t,{A:()=>n});var o=r(6213);const s="http://localhost:5000/api",a=o.A.create({baseURL:s,withCredentials:!0});a.interceptors.request.use((e=>{const t=localStorage.getItem("accessToken");return t&&(e.headers.Authorization=`Bearer ${t}`),e}),(e=>Promise.reject(e))),a.interceptors.response.use((e=>e),(async e=>{const t=e.config;if(401===e.response.status&&!t._retry){t._retry=!0;try{const e=localStorage.getItem("refreshToken"),r=await o.A.post(`${s}/user/refresh-token`,{refreshToken:e},{withCredentials:!0}),{accessToken:n,newRefreshToken:c}=r.data;return localStorage.setItem("accessToken",n),localStorage.setItem("refreshToken",c),a.defaults.headers.common.Authorization=`Bearer ${n}`,a(t)}catch(r){return localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),window.location.href="/login",Promise.reject(r)}}return Promise.reject(e)}));const n=a}}]);
//# sourceMappingURL=829.e4fac4d2.chunk.js.map